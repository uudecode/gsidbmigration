<?xml version="1.0" encoding="UTF-8"?>
<root version="5.5.3.0" >
	<data table="M_1_GIDR_LP" schema="WEB50" id="WEB50_M_1_GIDR_LP" comment="WEB50.M_1_GIDR_LP">
		<select>
			<geoQuery idField="ID" geoField="WKB_GEOMETRY">
				<var name="FILTER" default="1=1"/>
				<query>
			SELECT d.ID, d.DESCR "LABEL", d.XMIN, d.XMAX, d.YMIN, d.YMAX, d.WKB_GEOMETRY, d.STYLE
              FROM WEB50.M_1_GIDR_LP d
              WHERE {FILTER}
            </query>
			</geoQuery>
		</select>
		<insert>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="2"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.INSERT_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_GIDR_LP SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на добавление объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</insert>
		<update>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="2"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.UPDATE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_GIDR_LP SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на редактирование объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</update>
		<delete>
			<dbCommand>
				<param name="ID" type="Int64" direction="Input"/>
				<param type="Decimal" name="USER_ID"/>
				<query>
              DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.DELETE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                UPDATE WEB50.M_1_GIDR_LP SET WKB_GEOMETRY=NULL, XMIN=NULL, XMAX=NULL, YMIN=NULL, YMAX=NULL, STYLE=NULL WHERE ID = :ID;
              ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на удаление объектов. Обратитесь к администратору.'); END IF; END;
            </query>
			</dbCommand>
		</delete>
	</data>
	<data table="M_1_GIDR_S" schema="WEB50" id="WEB50_M_1_GIDR_S" comment="WEB50.M_1_GIDR_S">
		<select>
			<geoQuery idField="ID" geoField="WKB_GEOMETRY">
				<var name="FILTER" default="1=1"/>
				<query>
			  SELECT d.ID, d.C9 "LABEL", d.XMIN, d.XMAX, d.YMIN, d.YMAX, d.WKB_GEOMETRY, d.STYLE
              FROM WEB50.M_1_GIDR_S d
              WHERE {FILTER}
            </query>
			</geoQuery>
		</select>
		<insert>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="3"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.INSERT_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_GIDR_S SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на добавление объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</insert>
		<update>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="3"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.UPDATE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_GIDR_S SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на редактирование объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</update>
		<delete>
			<dbCommand>
				<param name="ID" type="Int64" direction="Input"/>
				<param type="Decimal" name="USER_ID"/>
				<query>
              DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.DELETE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                UPDATE WEB50.M_1_GIDR_S  SET WKB_GEOMETRY=NULL, XMIN=NULL, XMAX=NULL, YMIN=NULL, YMAX=NULL, STYLE=NULL WHERE ID = :ID;
              ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на удаление объектов. Обратитесь к администратору.'); END IF; END;
            </query>
			</dbCommand>
		</delete>
	</data>
	<data table="M_1_GRUNT" schema="WEB50" id="WEB50_M_1_GRUNT" comment="WEB50.M_1_GRUNT">
		<select>
			<geoQuery idField="ID" geoField="WKB_GEOMETRY">
				<var name="FILTER" default="1=1"/>
				<query>
			  SELECT d.ID, d.DESCR "LABEL", d.XMIN, d.XMAX, d.YMIN, d.YMAX, d.WKB_GEOMETRY, d.STYLE
              FROM WEB50.M_1_GRUNT d
              WHERE {FILTER}
            </query>
			</geoQuery>
		</select>
		<insert>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="1"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.INSERT_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_GRUNT SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END,  ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на добавление объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</insert>
		<update>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="1"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.UPDATE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_GRUNT SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END,  ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на редактирование объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</update>
		<delete>
			<dbCommand>
				<param name="ID" type="Int64" direction="Input"/>
				<param type="Decimal" name="USER_ID"/>
				<query>
              DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.DELETE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                UPDATE WEB50.M_1_GRUNT  SET WKB_GEOMETRY=NULL, XMIN=NULL, XMAX=NULL, YMIN=NULL, YMAX=NULL, STYLE=NULL WHERE ID = :ID;
              ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на удаление объектов. Обратитесь к администратору.'); END IF; END;
            </query>
			</dbCommand>
		</delete>
	</data>
	<data table="M_1_LIMITS" schema="WEB50" id="WEB50_M_1_LIMITS" comment="WEB50.M_1_LIMITS">
		<select>
			<geoQuery idField="ID" geoField="WKB_GEOMETRY">
				<var name="FILTER" default="1=1"/>
				<query>
			  SELECT d.ID, d.DESCR "LABEL", d.XMIN, d.XMAX, d.YMIN, d.YMAX, d.WKB_GEOMETRY, d.STYLE
              FROM WEB50.M_1_LIMITS d
              WHERE {FILTER}
            </query>
			</geoQuery>
		</select>
		<insert>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="1"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.INSERT_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_LIMITS SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на добавление объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</insert>
		<update>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="1"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.UPDATE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_LIMITS SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на редактирование объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</update>
		<delete>
			<dbCommand>
				<param name="ID" type="Int64" direction="Input"/>
				<param type="Decimal" name="USER_ID"/>
				<query>
              DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.DELETE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                UPDATE WEB50.M_1_LIMITS  SET WKB_GEOMETRY=NULL, XMIN=NULL, XMAX=NULL, YMIN=NULL, YMAX=NULL, STYLE=NULL WHERE ID = :ID;
              ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на удаление объектов. Обратитесь к администратору.'); END IF; END;
            </query>
			</dbCommand>
		</delete>
	</data>
	<data table="M_1_PROM_GAS" schema="WEB50" id="WEB50_M_1_PROM_GAS" comment="WEB50.M_1_PROM_GAS">
		<select>
			<geoQuery idField="ID" geoField="WKB_GEOMETRY">
				<var name="FILTER" default="1=1"/>
				<query>
			  SELECT d.ID, d.DESCR "LABEL", d.XMIN, d.XMAX, d.YMIN, d.YMAX, d.WKB_GEOMETRY, d.STYLE
              FROM WEB50.M_1_PROM_GAS d
              WHERE {FILTER}
            </query>
			</geoQuery>
		</select>
		<insert>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="1"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.INSERT_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_PROM_GAS SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на добавление объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</insert>
		<update>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="1"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.UPDATE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_PROM_GAS SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на редактирование объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</update>
		<delete>
			<dbCommand>
				<param name="ID" type="Int64" direction="Input"/>
				<param type="Decimal" name="USER_ID"/>
				<query>
              DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.DELETE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                UPDATE WEB50.M_1_PROM_GAS  SET WKB_GEOMETRY=NULL, XMIN=NULL, XMAX=NULL, YMIN=NULL, YMAX=NULL, STYLE=NULL WHERE ID = :ID;
              ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на удаление объектов. Обратитесь к администратору.'); END IF; END;
            </query>
			</dbCommand>
		</delete>
	</data>
	<data table="M_1_PROM_LP" schema="WEB50" id="WEB50_M_1_PROM_LP" comment="WEB50.M_1_PROM_LP">
		<select>
			<geoQuery idField="ID" geoField="WKB_GEOMETRY">
				<var name="FILTER" default="1=1"/>
				<query>
			  SELECT d.ID, d.DESCR "LABEL", d.XMIN, d.XMAX, d.YMIN, d.YMAX, d.WKB_GEOMETRY, d.STYLE
              FROM WEB50.M_1_PROM_LP d
              WHERE {FILTER}
            </query>
			</geoQuery>
		</select>
		<insert>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="2"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.INSERT_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_PROM_LP SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на добавление объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</insert>
		<update>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="2"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.UPDATE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_PROM_LP SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на редактирование объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</update>
		<delete>
			<dbCommand>
				<param name="ID" type="Int64" direction="Input"/>
				<param type="Decimal" name="USER_ID"/>
				<query>
              DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.DELETE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                UPDATE WEB50.M_1_PROM_LP  SET WKB_GEOMETRY=NULL, XMIN=NULL, XMAX=NULL, YMIN=NULL, YMAX=NULL, STYLE=NULL WHERE ID = :ID;
              ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на удаление объектов. Обратитесь к администратору.'); END IF; END;
            </query>
			</dbCommand>
		</delete>
	</data>
	<data table="M_1_PROM_S" schema="WEB50" id="WEB50_M_1_PROM_S" comment="WEB50.M_1_PROM_S">
		<select>
			<geoQuery idField="ID" geoField="WKB_GEOMETRY">
				<var name="FILTER" default="1=1"/>
				<query>
			  SELECT d.ID, d.DESCR "LABEL", d.XMIN, d.XMAX, d.YMIN, d.YMAX, d.WKB_GEOMETRY, d.STYLE
              FROM WEB50.M_1_PROM_S d
              WHERE {FILTER}
            </query>
			</geoQuery>
		</select>
		<insert>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="3"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.INSERT_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_PROM_S SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на добавление объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</insert>
		<update>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="3"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.UPDATE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_PROM_S SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на редактирование объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</update>
		<delete>
			<dbCommand>
				<param name="ID" type="Int64" direction="Input"/>
				<param type="Decimal" name="USER_ID"/>
				<query>
              DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.DELETE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                UPDATE WEB50.M_1_PROM_S  SET WKB_GEOMETRY=NULL, XMIN=NULL, XMAX=NULL, YMIN=NULL, YMAX=NULL, STYLE=NULL WHERE ID = :ID;
              ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на удаление объектов. Обратитесь к администратору.'); END IF; END;
            </query>
			</dbCommand>
		</delete>
	</data>
	<data table="M_1_RAST_LP" schema="WEB50" id="WEB50_M_1_RAST_LP" comment="WEB50.M_1_RAST_LP">
		<select>
			<geoQuery idField="ID" geoField="WKB_GEOMETRY">
				<var name="FILTER" default="1=1"/>
				<query>SELECT d.ID, d.DESCR "LABEL", d.XMIN, d.XMAX, d.YMIN, d.YMAX, d.WKB_GEOMETRY, d.STYLE
              FROM WEB50.M_1_RAST_LP d
              WHERE {FILTER}
            </query>
			</geoQuery>
		</select>
		<insert>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="2"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.INSERT_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_RAST_LP SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на добавление объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</insert>
		<update>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="2"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.UPDATE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_RAST_LP SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на редактирование объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</update>
		<delete>
			<dbCommand>
				<param name="ID" type="Int64" direction="Input"/>
				<param type="Decimal" name="USER_ID"/>
				<query>
              DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.DELETE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                UPDATE WEB50.M_1_RAST_LP  SET WKB_GEOMETRY=NULL, XMIN=NULL, XMAX=NULL, YMIN=NULL, YMAX=NULL, STYLE=NULL WHERE ID = :ID;
              ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на удаление объектов. Обратитесь к администратору.'); END IF; END;
            </query>
			</dbCommand>
		</delete>
	</data>
	<data table="M_1_RAST_S" schema="WEB50" id="WEB50_M_1_RAST_S" comment="WEB50.M_1_RAST_S">
		<select>
			<geoQuery idField="ID" geoField="WKB_GEOMETRY">
				<var name="FILTER" default="1=1"/>
				<query>
			  SELECT d.ID, d.DESCR "LABEL", d.XMIN, d.XMAX, d.YMIN, d.YMAX, d.WKB_GEOMETRY, d.STYLE
              FROM WEB50.M_1_RAST_S d
              WHERE {FILTER}
            </query>
			</geoQuery>
		</select>
		<insert>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="3"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.INSERT_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_RAST_S SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на добавление объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</insert>
		<update>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="3"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.UPDATE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_RAST_S SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на редактирование объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</update>
		<delete>
			<dbCommand>
				<param name="ID" type="Int64" direction="Input"/>
				<param type="Decimal" name="USER_ID"/>
				<query>
              DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.DELETE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                UPDATE WEB50.M_1_RAST_S  SET WKB_GEOMETRY=NULL, XMIN=NULL, XMAX=NULL, YMIN=NULL, YMAX=NULL, STYLE=NULL WHERE ID = :ID;
              ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на удаление объектов. Обратитесь к администратору.'); END IF; END;
            </query>
			</dbCommand>
		</delete>
	</data>
	<data table="M_1_RELIEF" schema="WEB50" id="WEB50_M_1_RELIEF" comment="WEB50.M_1_RELIEF">
		<select>
			<geoQuery idField="ID" geoField="WKB_GEOMETRY">
				<var name="FILTER" default="1=1"/>
				<query>SELECT d.ID, d.DESCR "LABEL", d.XMIN, d.XMAX, d.YMIN, d.YMAX, d.WKB_GEOMETRY, d.STYLE
              FROM WEB50.M_1_RELIEF d
              WHERE {FILTER}
            </query>
			</geoQuery>
		</select>
		<insert>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="1"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.INSERT_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_RELIEF SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на добавление объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</insert>
		<update>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="1"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.UPDATE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_RELIEF SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на редактирование объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</update>
		<delete>
			<dbCommand>
				<param name="ID" type="Int64" direction="Input"/>
				<param type="Decimal" name="USER_ID"/>
				<query>
              DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.DELETE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                UPDATE WEB50.M_1_RELIEF  SET WKB_GEOMETRY=NULL, XMIN=NULL, XMAX=NULL, YMIN=NULL, YMAX=NULL, STYLE=NULL WHERE ID = :ID;
              ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на удаление объектов. Обратитесь к администратору.'); END IF; END;
            </query>
			</dbCommand>
		</delete>
	</data>
	<data table="M_1_ROADS_LP" schema="WEB50" id="WEB50_M_1_ROADS_LP" comment="WEB50.M_1_ROADS_LP">
		<select>
			<geoQuery idField="ID" geoField="WKB_GEOMETRY">
				<var name="FILTER" default="1=1"/>
				<query>
			  SELECT d.ID, d.DESCR "LABEL", d.XMIN, d.XMAX, d.YMIN, d.YMAX, d.WKB_GEOMETRY, d.STYLE
              FROM WEB50.M_1_ROADS_LP d
              WHERE {FILTER}
            </query>
			</geoQuery>
		</select>
		<insert>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="2"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.INSERT_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_ROADS_LP SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на добавление объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</insert>
		<update>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="2"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.UPDATE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_ROADS_LP SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на редактирование объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</update>
		<delete>
			<dbCommand>
				<param name="ID" type="Int64" direction="Input"/>
				<param type="Decimal" name="USER_ID"/>
				<query>
              DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.DELETE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                UPDATE WEB50.M_1_ROADS_LP  SET WKB_GEOMETRY=NULL, XMIN=NULL, XMAX=NULL, YMIN=NULL, YMAX=NULL, STYLE=NULL WHERE ID = :ID;
              ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на удаление объектов. Обратитесь к администратору.'); END IF; END;
            </query>
			</dbCommand>
		</delete>
	</data>
	<data table="M_1_ROADS_S" schema="WEB50" id="WEB50_M_1_ROADS_S" comment="WEB50.M_1_ROADS_S">
		<select>
			<geoQuery idField="ID" geoField="WKB_GEOMETRY">
				<var name="FILTER" default="1=1"/>
				<query>
			  SELECT d.ID, d.DESCR "LABEL", d.XMIN, d.XMAX, d.YMIN, d.YMAX, d.WKB_GEOMETRY, d.STYLE
              FROM WEB50.M_1_ROADS_S d
              WHERE {FILTER}
            </query>
			</geoQuery>
		</select>
		<insert>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="3"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.INSERT_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_ROADS_S SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на добавление объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</insert>
		<update>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="3"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.UPDATE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_ROADS_S SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на редактирование объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</update>
		<delete>
			<dbCommand>
				<param name="ID" type="Int64" direction="Input"/>
				<param type="Decimal" name="USER_ID"/>
				<query>
              DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.DELETE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                UPDATE WEB50.M_1_ROADS_S  SET WKB_GEOMETRY=NULL, XMIN=NULL, XMAX=NULL, YMIN=NULL, YMAX=NULL, STYLE=NULL WHERE ID = :ID;
              ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на удаление объектов. Обратитесь к администратору.'); END IF; END;
            </query>
			</dbCommand>
		</delete>
	</data>
	<data table="M_1_SURVEY" schema="WEB50" id="WEB50_M_1_SURVEY" comment="WEB50.M_1_SURVEY">
		<select>
			<geoQuery idField="ID" geoField="WKB_GEOMETRY">
				<var name="FILTER" default="1=1"/>
				<query>SELECT d.ID, d.DESCR "LABEL", d.XMIN, d.XMAX, d.YMIN, d.YMAX, d.WKB_GEOMETRY, d.STYLE
              FROM WEB50.M_1_SURVEY d
              WHERE {FILTER}
            </query>
			</geoQuery>
		</select>
		<insert>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="1"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.INSERT_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_SURVEY SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на добавление объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</insert>
		<update>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="1"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.UPDATE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_SURVEY SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на редактирование объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</update>
		<delete>
			<dbCommand>
				<param name="ID" type="Int64" direction="Input"/>
				<param type="Decimal" name="USER_ID"/>
				<query>
              DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.DELETE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                UPDATE WEB50.M_1_SURVEY  SET WKB_GEOMETRY=NULL, XMIN=NULL, XMAX=NULL, YMIN=NULL, YMAX=NULL, STYLE=NULL WHERE ID = :ID;
              ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на удаление объектов. Обратитесь к администратору.'); END IF; END;
            </query>
			</dbCommand>
		</delete>
	</data>
	<data table="M_1_SWAMP" schema="WEB50" id="WEB50_M_1_SWAMP" comment="WEB50.M_1_SWAMP">
		<select>
			<geoQuery idField="ID" geoField="WKB_GEOMETRY">
				<var name="FILTER" default="1=1"/>
				<query>
			  SELECT d.ID, d.DESCR "LABEL", d.XMIN, d.XMAX, d.YMIN, d.YMAX, d.WKB_GEOMETRY, d.STYLE
              FROM WEB50.M_1_SWAMP d
              WHERE {FILTER}
            </query>
			</geoQuery>
		</select>
		<insert>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="1"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.INSERT_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_SWAMP SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на добавление объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</insert>
		<update>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="1"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.UPDATE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_SWAMP SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на редактирование объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</update>
		<delete>
			<dbCommand>
				<param name="ID" type="Int64" direction="Input"/>
				<param type="Decimal" name="USER_ID"/>
				<query>
              DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.DELETE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                UPDATE WEB50.M_1_SWAMP  SET WKB_GEOMETRY=NULL, XMIN=NULL, XMAX=NULL, YMIN=NULL, YMAX=NULL, STYLE=NULL WHERE ID = :ID;
              ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на удаление объектов. Обратитесь к администратору.'); END IF; END;
            </query>
			</dbCommand>
		</delete>
	</data>
	<data table="M_1_TEXT" schema="WEB50" id="WEB50_M_1_TEXT" comment="WEB50.M_1_TEXT">
		<select>
			<geoQuery idField="ID" geoField="WKB_GEOMETRY">
				<var name="FILTER" default="1=1"/>
				<query>	
			  SELECT d.ID, d.C9 "LABEL", d.XMIN, d.XMAX, d.YMIN, d.YMAX, d.WKB_GEOMETRY, d.STYLE
              FROM WEB50.M_1_TEXT d
              WHERE {FILTER}
            </query>
			</geoQuery>
		</select>
		<insert>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="1"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.INSERT_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_TEXT SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на добавление объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</insert>
		<update>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="1"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.UPDATE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_TEXT SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на редактирование объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</update>
		<delete>
			<dbCommand>
				<param name="ID" type="Int64" direction="Input"/>
				<param type="Decimal" name="USER_ID"/>
				<query>
              DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.DELETE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                UPDATE WEB50.M_1_TEXT  SET WKB_GEOMETRY=NULL, XMIN=NULL, XMAX=NULL, YMIN=NULL, YMAX=NULL, STYLE=NULL WHERE ID = :ID;
              ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на удаление объектов. Обратитесь к администратору.'); END IF; END;
            </query>
			</dbCommand>
		</delete>
	</data>
	<data table="M_1_TOWN_LP" schema="WEB50" id="WEB50_M_1_TOWN_LP" comment="WEB50.M_1_TOWN_LP">
		<select>
			<geoQuery idField="ID" geoField="WKB_GEOMETRY">
				<var name="FILTER" default="1=1"/>
				<query>
			  SELECT d.ID, d.DESCR "LABEL", d.XMIN, d.XMAX, d.YMIN, d.YMAX, d.WKB_GEOMETRY, d.STYLE
              FROM WEB50.M_1_TOWN_LP d
              WHERE {FILTER}
            </query>
			</geoQuery>
		</select>
		<insert>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="2"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.INSERT_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_TOWN_LP SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на добавление объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</insert>
		<update>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="2"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.UPDATE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_TOWN_LP SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на редактирование объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</update>
		<delete>
			<dbCommand>
				<param name="ID" type="Int64" direction="Input"/>
				<param type="Decimal" name="USER_ID"/>
				<query>
              DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.DELETE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                UPDATE WEB50.M_1_TOWN_LP  SET WKB_GEOMETRY=NULL, XMIN=NULL, XMAX=NULL, YMIN=NULL, YMAX=NULL, STYLE=NULL WHERE ID = :ID;
              ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на удаление объектов. Обратитесь к администратору.'); END IF; END;
            </query>
			</dbCommand>
		</delete>
	</data>
	<data table="M_1_TOWN_S" schema="WEB50" id="WEB50_M_1_TOWN_S" comment="WEB50.M_1_TOWN_S">
		<select>
			<geoQuery idField="ID" geoField="WKB_GEOMETRY">
				<var name="FILTER" default="1=1"/>
				<query>
			  SELECT d.ID, d.C9 "LABEL", d.XMIN, d.XMAX, d.YMIN, d.YMAX, d.WKB_GEOMETRY, d.STYLE
              FROM WEB50.M_1_TOWN_S d
              WHERE {FILTER}
            </query>
			</geoQuery>
		</select>
		<insert>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="3"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.INSERT_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_TOWN_S SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на добавление объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</insert>
		<update>
			<geoCommand proc="GET_M_1_ZONE_ID">
				<param name="ID" type="Int64" direction="Input"/>
				<param name="STYLE" type="String"/>
				<param name="ZONE_ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="3"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.UPDATE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_TOWN_S SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX, STYLE= CASE WHEN :TOPOLOGY = 2 THEN '&lt;MI_STYLE&gt;Line (1,2,0) &lt;/MI_STYLE&gt;' WHEN :TOPOLOGY = 3 THEN '&lt;MI_STYLE&gt;Pen (1,2,0) Brush (2,16777215,16777215)&lt;/MI_STYLE&gt;' ELSE '&lt;MI_STYLE&gt;Symbol (32,0,12)&lt;/MI_STYLE&gt;' END, ZONE_ID=:ZONE_ID WHERE ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на редактирование объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</update>
		<delete>
			<dbCommand>
				<param name="ID" type="Int64" direction="Input"/>
				<param type="Decimal" name="USER_ID"/>
				<query>
              DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.DELETE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                UPDATE WEB50.M_1_TOWN_S  SET WKB_GEOMETRY=NULL, XMIN=NULL, XMAX=NULL, YMIN=NULL, YMAX=NULL, STYLE=NULL WHERE ID = :ID;
              ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на удаление объектов. Обратитесь к администратору.'); END IF; END;
            </query>
			</dbCommand>
		</delete>
	</data>
	<data table="M_1_ZONE" schema="WEB50" id="WEB50_M_1_ZONE" comment="WEB50.M_1_ZONE">
		<select>
			<geoQuery idField="ID" geoField="WKB_GEOMETRY">
				<var name="FILTER" default="1=1"/>
				<query>
				SELECT * FROM (SELECT d.ZONE_ID ID, d.ZONE_ID "LABEL", d.XMIN, d.XMAX, d.YMIN, d.YMAX, d.WKB_GEOMETRY
                FROM WEB50.M_1_ZONE d
                WHERE d.ZONE_ID IN (SELECT ZONE_ID FROM WEB50.M_1_ZONE_TO_SRV_DISTRICT)) d
                WHERE {FILTER}
            </query>
			</geoQuery>
		</select>
		<insert>
			<geoCommand>
				<param name="ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="1"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.INSERT_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_ZONE SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX
		  WHERE ZONE_ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на добавление объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</insert>
		<update>
			<geoCommand>
				<param name="ID" type="Int64"/>
				<param name="TOPOLOGY" type="String" direction="Input" default="1"/>
				<param name="USER_ID" type="Decimal" default="-1"/>
				<object>
                DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.UPDATE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                  UPDATE WEB50.M_1_ZONE SET WKB_GEOMETRY=:WKB, XMIN=:XMIN, XMAX=:XMAX, YMIN=:YMIN, YMAX=:YMAX
		  WHERE ZONE_ID = :ID;
                ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на редактирование объектов. Обратитесь к администратору.'); END IF; END;
              </object>
			</geoCommand>
		</update>
		<delete>
			<dbCommand>
				<param name="ID" type="Int64"/>
				<param type="Decimal" name="USER_ID"/>
				<query>
              DECLARE v_permission_granted NUMBER; BEGIN SELECT COUNT(*) INTO v_permission_granted FROM WEB50.B_USER_TO_B_ROLE u2r JOIN WEB50.B_ROLE_TO_B_POLICY r2p ON u2r.ROLE_ID = r2p.ROLE_ID JOIN WEB50.B_POLICY_RULES pr ON r2p.POLICY_ID = pr.POLICY_ID WHERE u2r.USER_ID = :USER_ID AND pr.CLASS_ID='WEB50_M1_MAP' AND pr.DELETE_PERMITTED = 1; IF v_permission_granted &gt; 0 THEN
                UPDATE WEB50.M_1_ZONE  SET WKB_GEOMETRY=NULL, XMIN=NULL, XMAX=NULL, YMIN=NULL, YMAX=NULL WHERE ZONE_ID = :ID;
              ELSE RAISE_APPLICATION_ERROR(-20771,'Нет прав на удаление объектов. Обратитесь к администратору.'); END IF; END;
            </query>
			</dbCommand>
		</delete>
	</data>
</root>
